<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>NPS IntelliRetire ¬∑ AI Retirement OS</title>
    <!-- Chart.js and Font Awesome for icons & charts -->
    <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.0/dist/chart.umd.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        * {
            box-sizing: border-box;
            margin: 0;
            padding: 0;
            font-family: 'Inter', 'Segoe UI', system-ui, sans-serif;
        }

        body {
            background: #f0f4fc;
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        header {
            background: linear-gradient(145deg, #001b3a, #002856);
            color: white;
            padding: 1rem 2rem;
            font-size: 1.8rem;
            font-weight: 600;
            display: flex;
            align-items: center;
            gap: 15px;
            box-shadow: 0 10px 20px rgba(0, 20, 40, 0.15);
            letter-spacing: -0.5px;
            border-bottom: 3px solid #4f9fff;
        }

        header i {
            font-size: 2rem;
            color: #9ac8ff;
        }

        .container {
            max-width: 1400px;
            margin: 0 auto;
            padding: 24px;
            width: 100%;
            flex: 1;
        }

        /* cards */
        .card {
            background: rgba(255, 255, 255, 0.9);
            backdrop-filter: blur(4px);
            border-radius: 28px;
            padding: 28px;
            margin-bottom: 28px;
            box-shadow: 0 18px 40px -12px rgba(0, 35, 80, 0.25), 0 0 0 1px rgba(255, 255, 255, 0.8) inset;
            border: 1px solid rgba(255, 255, 255, 0.7);
            transition: all 0.2s;
        }

        .card:hover {
            box-shadow: 0 24px 50px -12px #00285640;
        }

        h3 {
            font-size: 1.7rem;
            font-weight: 600;
            margin-bottom: 1.2rem;
            color: #0f2b4b;
            display: flex;
            align-items: center;
            gap: 10px;
        }

        h3 i {
            color: #1e6df2;
            font-size: 1.8rem;
        }

        /* forms */
        input,
        select,
        .file-input {
            width: 100%;
            padding: 14px 18px;
            margin: 8px 0 16px;
            border: 2px solid #e2ecfe;
            border-radius: 40px;
            font-size: 1rem;
            background: #f9fcff;
            transition: 0.2s;
            outline: none;
            box-shadow: 0 2px 6px #00000008;
        }

        input:focus,
        select:focus {
            border-color: #1e6df2;
            background: white;
            box-shadow: 0 8px 18px -10px #1e6df2;
        }

        label {
            font-weight: 500;
            color: #1e3a6b;
            display: flex;
            align-items: center;
            gap: 12px;
            margin: 16px 0;
        }

        button {
            background: linear-gradient(105deg, #002d62, #004a9e);
            color: white;
            border: none;
            padding: 14px 28px;
            border-radius: 60px;
            font-size: 1.1rem;
            font-weight: 600;
            display: inline-flex;
            align-items: center;
            gap: 12px;
            justify-content: center;
            cursor: pointer;
            box-shadow: 0 8px 16px -8px #003a7a;
            transition: all 0.2s;
            border: 1px solid #ffffff30;
            width: auto;
            min-width: 160px;
        }

        button i {
            font-size: 1.2rem;
        }

        button:hover {
            background: linear-gradient(105deg, #003d7a, #005ec2);
            transform: translateY(-3px);
            box-shadow: 0 16px 24px -8px #003177;
        }

        .flex {
            display: flex;
            gap: 30px;
            flex-wrap: wrap;
        }

        .flex>div {
            flex: 1 1 300px;
        }

        #result {
            background: #e3efff;
            padding: 22px;
            border-radius: 40px;
            font-weight: 500;
            font-size: 1.2rem;
            border-left: 7px solid #004cbf;
            margin-top: 25px;
        }

        /* dashboard blocks */
        #dashboard,
        #kycSection,
        #chatSection {
            display: none;
        }

        .analytics-box {
            display: flex;
            gap: 18px;
            flex-wrap: wrap;
            margin-top: 20px;
        }

        .analytics-box>div {
            background: white;
            border-radius: 32px;
            padding: 24px;
            flex: 1 1 150px;
            text-align: center;
            box-shadow: 0 8px 18px -8px #b0c9ff;
            border: 1px solid white;
        }

        .analytics-box h4 {
            font-size: 2.2rem;
            color: #002856;
            margin-bottom: 8px;
            font-weight: 700;
        }

        .analytics-box p {
            color: #47678f;
            font-weight: 500;
        }

        /* chat */
        .chatbox {
            height: 280px;
            overflow-y: auto;
            background: #f5f9ff;
            border-radius: 40px;
            padding: 20px;
            border: 2px solid white;
            margin-bottom: 16px;
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .user {
            background: #1e6df2;
            color: white;
            padding: 12px 22px;
            border-radius: 30px 30px 5px 30px;
            max-width: 80%;
            align-self: flex-end;
            word-break: break-word;
        }

        .bot {
            background: white;
            color: #002856;
            padding: 12px 22px;
            border-radius: 30px 30px 30px 5px;
            max-width: 80%;
            border: 1px solid #dae6ff;
            box-shadow: 0 4px 10px #d9e6fd;
        }

        .chat-input-flex {
            display: flex;
            gap: 10px;
            align-items: center;
        }

        .chat-input-flex input {
            flex: 1;
            margin: 0;
        }

        .file-upload {
            background: #ecf3ff;
            border-radius: 60px;
            padding: 12px 20px;
            border: 2px dashed #1e6df2;
            margin: 15px 0;
            text-align: center;
            color: #002856;
        }

        #loginSection {
            max-width: 500px;
            margin: 40px auto;
            text-align: center;
        }

        #loginSection input {
            text-align: center;
        }

        .pill-badge {
            background: #001f4d;
            color: #b5d2ff;
            padding: 4px 15px;
            border-radius: 40px;
            font-size: 0.9rem;
            display: inline-block;
            margin-left: 15px;
        }

        canvas {
            max-height: 280px;
            width: 100% !important;
        }

        .corpus-highlight {
            font-size: 2rem;
            font-weight: 700;
            color: #002856;
        }

        footer {
            margin-top: 40px;
            text-align: center;
            color: #5f7da0;
        }

        .grid-3 {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(270px, 1fr));
            gap: 25px;
        }
    </style>
</head>

<body>
    <header>
        <i class="fas fa-robot"></i> NPS IntelliRetire <span class="pill-badge"><i class="far fa-gem"></i> AI ¬∑ eKYC ¬∑
            360¬∞</span>
    </header>

    <div class="container">
        <!-- LOGIN CARD (sleek) -->
        <div class="card" id="loginSection" style="display:block;">
            <i class="fas fa-lock" style="font-size:3rem;color:#004aad;margin-bottom:10px;"></i>
            <h3>Welcome back <i class="fas fa-hand-wave"></i></h3>
            <input type="text" id="username" placeholder="Username / Aadhaar">
            <input type="password" id="password" placeholder="Password / OTP">
            <button onclick="login()" style="width:100%;"><i class="fas fa-arrow-right-to-bracket"></i> Secure
                login</button>
            <p style="margin-top:20px;color:#4d6a9b;">üîê New? Instant onboarding after login</p>
        </div>

        <!-- KYC SECTION (digital eKYC) -->
        <div class="card" id="kycSection">
            <h3><i class="fas fa-id-card"></i> Paperless eKYC (5 min)</h3>
            <div class="grid-3">
                <input type="text" placeholder="Aadhaar (12 digit)" id="aadhaar" value="987698769876">
                <input type="text" placeholder="PAN (optional)" id="pan" value="ABCDE1234F">
                <input type="text" placeholder="Mobile (OTP)" id="mobile" value="9876543210">
            </div>
            <div class="file-upload">
                <i class="fas fa-cloud-upload-alt"></i> Upload selfie / document (drag & drop)
                <input type="file" style="display:none;" id="fileInput">
            </div>
            <label style="justify-content:center;">
                <input type="checkbox" id="consentCheck" checked> <span>I provide consent for data processing &
                    eSign</span>
            </label>
            <div style="display:flex;gap:12px;flex-wrap:wrap;">
                <button onclick="completeKYC()"><i class="fas fa-check-circle"></i> Complete KYC & unlock
                    dashboard</button>
                <button style="background:#32557f;" onclick="simulateQuickKYC()"><i class="fas fa-bolt"></i> Demo
                    fast-fill</button>
            </div>
        </div>

        <!-- MAIN DASHBOARD -->
        <div id="dashboard">
            <!-- retirement forecaster -->
            <div class="card">
                <h3><i class="fas fa-chart-line"></i> Retirement forecaster <span
                        style="font-size:1rem;margin-left:auto;font-weight:400;"><i class="far fa-clock"></i> real-time
                        INR</span></h3>
                <div class="flex">
                    <div>
                        <label><i class="far fa-user"></i> Current age</label>
                        <input type="number" id="age" value="35" min="18" max="70">
                        <label><i class="far fa-flag"></i> Retirement age</label>
                        <input type="number" id="retireAge" value="60" min="40" max="80">
                        <label><i class="fas fa-coins"></i> Monthly contribution (‚Çπ)</label>
                        <input type="number" id="monthly" value="5000" min="500">
                        <label><i class="fas fa-percent"></i> Expected annual return (%)</label>
                        <input type="number" id="returnRate" value="9.5" step="0.1">
                        <label><i class="fas fa-wind"></i> Inflation (%)</label>
                        <input type="number" id="inflation" value="5.0" step="0.1">
                        <button onclick="calculate()" style="margin-top:10px;"><i class="fas fa-calculator"></i> project
                            corpus</button>
                    </div>
                    <div>
                        <canvas id="chart"></canvas>
                    </div>
                </div>
                <div id="result">
                    <i class="fas fa-spinner fa-pulse" style="margin-right:10px;"></i> Click calculate to see your
                    retirement roadmap
                </div>
            </div>

            <!-- ANALYTICS + AI BEHAVIOR -->
            <div class="card">
                <h3><i class="fas fa-chart-pie"></i> Intelligence dashboard <span
                        style="font-size:0.9rem;background:#eef4ff;padding:5px 15px;border-radius:60px;margin-left:15px;">live
                        engagement</span></h3>
                <div class="analytics-box">
                    <div><i class="fas fa-rotate-right" style="font-size:2rem;color:#004aad;"></i>
                        <h4 id="simCount">0</h4>
                        <p>simulations run</p>
                    </div>
                    <div><i class="fas fa-fire" style="font-size:2rem;color:#ff7b24;"></i>
                        <h4 id="engagement">0%</h4>
                        <p>engagement score</p>
                    </div>
                    <div><i class="fas fa-chart-simple" style="font-size:2rem;color:#1eaf5c;"></i>
                        <h4 id="adjustRate">0%</h4>
                        <p>optimization rate</p>
                    </div>
                    <div><i class="fas fa-language" style="font-size:2rem;color:#9b4dff;"></i>
                        <h4 id="langSupport">3</h4>
                        <p>multilingual AI</p>
                    </div>
                </div>
                <div
                    style="background:#ddeeff;border-radius:60px;padding:15px 25px;margin-top:15px;display:flex;gap:15px;align-items:center;flex-wrap:wrap;">
                    <i class="fas fa-lightbulb" style="font-size:2rem;color:#996500;"></i>
                    <span style="font-weight:500;">Next milestone: increase monthly SIP by 10% to beat inflation by
                        2.3%</span>
                    <button style="margin-left:auto;padding:8px 25px;" onclick="sendSuggestion()"><i
                            class="fas fa-message"></i> ask AI</button>
                </div>
            </div>

            <!-- AI MULTILINGUAL CHAT -->
            <div class="card" id="chatSection">
                <h3><i class="fas fa-comment-dots"></i> Multilingual pension assistant <span
                        style="font-size:0.9rem;">(‡§π‡§ø‡§®‡•ç‡§¶‡•Ä, ‡∞§‡±Ü‡∞≤‡±Å‡∞ó‡±Å, English)</span></h3>
                <div class="chatbox" id="chatbox">
                    <div class="bot"><i class="fas fa-robot" style="margin-right:8px;"></i> Namaste! I‚Äôm your NPS
                        co-pilot. Ask about corpus, tax, or scheme preference.</div>
                    <div class="user">How much should I contribute to get ‚Çπ2 lakh monthly pension?</div>
                    <div class="bot">üëâ For a ‚Çπ2L monthly pension (in today's value), you need approx ‚Çπ4.8Cr
                        inflation-adjusted corpus. Based on your age 35, contributing ‚Çπ42k/month can achieve that at
                        9.5% return.</div>
                </div>
                <div class="chat-input-flex">
                    <input type="text" id="chatInput" placeholder="Type your question in English / Hindi / Telugu ..."
                        value="suggest best tier-1 allocation">
                    <button onclick="sendMessage()" style="min-width:auto;border-radius:60px;padding:14px 30px;"><i
                            class="fas fa-paper-plane"></i> send</button>
                </div>
                <div style="display:flex;gap:12px;margin-top:12px;font-size:0.9rem;">
                    <span style="background:#ecf2ff;padding:5px 16px;border-radius:40px;"><i
                            class="fas fa-volume-high"></i> voice input ready</span>
                    <span style="background:#ecf2ff;padding:5px 16px;border-radius:40px;">üè¶ RAG + NPS
                        regulations</span>
                </div>
            </div>
            <footer style="margin-top:10px;">
                <i class="fas fa-shield-heart"></i> Insured by Pension Fund Regulatory Authority ‚Ä¢ simulated projections
            </footer>
        </div>
    </div>

    <script>
        // global vars & chart
        let simCounter = 0;
        let engagementValue = 0;
        let chartInstance = null;

        // Login -> KYC
        function login() {
            document.getElementById("loginSection").style.display = "none";
            document.getElementById("kycSection").style.display = "block";
        }
        function simulateQuickKYC() {
            document.getElementById("aadhaar").value = "342156789012";
            document.getElementById("pan").value = "FGHIJ1234K";
            document.getElementById("mobile").value = "9988776655";
            document.getElementById("consentCheck").checked = true;
        }
        function completeKYC() {
            if (!document.getElementById("consentCheck").checked) {
                alert("Please provide consent to proceed with eKYC");
                return;
            }
            document.getElementById("kycSection").style.display = "none";
            document.getElementById("dashboard").style.display = "block";
            document.getElementById("chatSection").style.display = "block";
            // welcome simulation
            if (simCounter === 0) calculate(); // default calculation to show chart
            else updateAnalytics();
        }

        // MAIN CALCULATION ENGINE
        function calculate() {
            let age = parseInt(document.getElementById("age").value) || 35;
            let retireAge = parseInt(document.getElementById("retireAge").value) || 60;
            let monthly = parseFloat(document.getElementById("monthly").value) || 5000;
            let rate = parseFloat(document.getElementById("returnRate").value) / 100 || 0.095;
            let inflation = parseFloat(document.getElementById("inflation").value) / 100 || 0.05;

            if (age >= retireAge) { alert("Retirement age must be greater than current age."); return; }

            let years = retireAge - age;
            let totalMonths = years * 12;
            let corpus = 0;
            let dataPoints = [];
            let yearlyLabels = [];

            for (let m = 1; m <= totalMonths; m++) {
                corpus = (corpus + monthly) * (1 + rate / 12);
                if (m % 12 === 0) {
                    let yearNo = age + (m / 12);
                    yearlyLabels.push(yearNo);
                    dataPoints.push(corpus);
                }
            }

            let inflationAdjusted = corpus / Math.pow((1 + inflation), years);
            let monthlyPension = inflationAdjusted * 0.06 / 12;    // assuming 6% SWR

            // format result
            document.getElementById("result").innerHTML = `
            <i class="fas fa-sack-dollar" style="margin-right:10px;"></i> 
            <span style="font-weight:600;">Projected Corpus</span> ‚Çπ ${corpus.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}  
            <span style="display:inline-block;width:2px;height:28px;background:#86b5ff;margin:0 20px;"></span>
            <span style="font-weight:600;">Inflation adj.</span> ‚Çπ ${inflationAdjusted.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}  
            <span style="display:inline-block;width:2px;height:28px;background:#86b5ff;margin:0 20px;"></span>
            <span style="font-weight:600;">Monthly Pension (est.)</span> ‚Çπ ${monthlyPension.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',')}
        `;

            // update analytics
            simCounter++;
            engagementValue = Math.min(45 + simCounter * 3, 98);
            let adjustVal = Math.min(simCounter * 7, 88);
            document.getElementById("simCount").innerText = simCounter;
            document.getElementById("engagement").innerText = engagementValue + '%';
            document.getElementById("adjustRate").innerText = adjustVal + '%';

            // chart update
            if (chartInstance) chartInstance.destroy();

            chartInstance = new Chart(document.getElementById("chart"), {
                type: 'line',
                data: {
                    labels: yearlyLabels.map(y => y.toFixed(0)),
                    datasets: [{
                        label: 'Corpus growth (‚Çπ)',
                        data: dataPoints,
                        borderColor: '#004aad',
                        backgroundColor: 'rgba(0, 74, 173, 0.05)',
                        borderWidth: 4,
                        pointBackgroundColor: '#2f7cf0',
                        pointBorderColor: 'white',
                        pointRadius: 5,
                        tension: 0.2,
                        fill: true
                    }]
                },
                options: {
                    responsive: true,
                    plugins: {
                        tooltip: { callbacks: { label: (ctx) => '‚Çπ ' + ctx.raw.toFixed(0).replace(/\B(?=(\d{3})+(?!\d))/g, ',') } }
                    },
                    scales: { y: { ticks: { callback: (val) => '‚Çπ' + (val / 1e5).toFixed(1) + 'L' } } }
                }
            });
        }

        // AI CHAT with smarter simulation (multilingual hint + contextual)
        function sendMessage() {
            let inputField = document.getElementById("chatInput");
            let msg = inputField.value.trim();
            if (msg === "") return;

            let chatbox = document.getElementById("chatbox");

            // user message
            let userDiv = document.createElement("div");
            userDiv.className = "user";
            userDiv.innerHTML = `<i class="fas fa-user" style="margin-right:6px;"></i>${msg}`;
            chatbox.appendChild(userDiv);

            // bot response (context-aware based on simulation)
            let botDiv = document.createElement("div");
            botDiv.className = "bot";

            let lower = msg.toLowerCase();
            let responseText = "";

            if (lower.includes("hindi") || lower.includes("‡§π‡§ø‡§®‡•ç‡§¶‡•Ä")) {
                responseText = "‡§Ü‡§™‡§ï‡•á ‡§®‡§ø‡§µ‡•á‡§∂ ‡§ï‡•ã ‡§¨‡§¢‡§º‡§æ‡§®‡•á ‡§ï‡•á ‡§≤‡§ø‡§è ‡§∏‡•Å‡§ù‡§æ‡§µ: ‡§π‡§∞ ‡§∏‡§æ‡§≤ ‡§Ø‡•ã‡§ó‡§¶‡§æ‡§® 10% ‡§¨‡§¢‡§º‡§æ‡§è‡§Å‡•§ ‡§ï‡•â‡§∞‡•ç‡§™‡§∏ 25% ‡§Ö‡§ß‡§ø‡§ï ‡§π‡•ã‡§ó‡§æ‡•§";
            } else if (lower.includes("pension") && lower.includes("month")) {
                let age = parseInt(document.getElementById("age").value) || 35;
                let monthly = parseFloat(document.getElementById("monthly").value) || 5000;
                let estPension = (monthly * 12 * 20 * 0.06).toFixed(0); // heuristic
                responseText = `üìå To get a higher monthly pension, consider increasing contribution. Based on current inputs, your inflation-adjusted monthly pension is ~‚Çπ${estPension}. Want a detailed road map?`;
            } else if (lower.includes("tax") || lower.includes("80c")) {
                responseText = "Under Section 80CCD(1B), NPS offers extra ‚Çπ50,000 deduction over 80C. You can save up to ‚Çπ15,600 in taxes.";
            } else if (lower.includes("allocation") || lower.includes("equity")) {
                responseText = "For your age (35-45), aggressive allocation: Equity 65% | Corporate Debt 25% | Gilt 10% maximizes long-term growth.";
            } else {
                responseText = "üîç I've analyzed your retirement goal. Boosting monthly contribution by ‚Çπ2,000 could add ‚Çπ1.2Cr to your final corpus (before inflation). Would you like me to auto-adjust your plan?";
            }

            botDiv.innerHTML = `<i class="fas fa-brain" style="margin-right:8px;"></i> ${responseText}  <span style="opacity:0.6; margin-left:12px;">‚ú® RAG + NPS 2025</span>`;
            chatbox.appendChild(botDiv);
            chatbox.scrollTop = chatbox.scrollHeight;
            inputField.value = "";

            // also increase engagement (micro interaction)
            engagementValue = Math.min(engagementValue + 2, 100);
            document.getElementById("engagement").innerText = engagementValue + '%';
        }

        // suggestion from insight bar
        function sendSuggestion() {
            let chatbox = document.getElementById("chatbox");
            let botDiv = document.createElement("div");
            botDiv.className = "bot";
            botDiv.innerHTML = `<i class="fas fa-robot"></i> To beat inflation, I recommend increasing monthly contribution to ‚Çπ5,500 (10% hike). That would add ‚Çπ1.1Cr to final corpus. Shall I run a new simulation?`;
            chatbox.appendChild(botDiv);
            document.getElementById("chatInput").value = "apply 10% increase recommendation";
            chatbox.scrollTop = chatbox.scrollHeight;
        }

        // quick on-page load helper
        window.onload = function () {
            // set default chart on load if any
            if (document.getElementById("loginSection").style.display !== "none") return;
            calculate();
        };

        // additional polish: enter key in chat
        document.getElementById("chatInput")?.addEventListener("keypress", function (e) {
            if (e.key === "Enter") sendMessage();
        });

        // manual call for analytics
        function updateAnalytics() {
            document.getElementById("simCount").innerText = simCounter;
            document.getElementById("engagement").innerText = Math.min(simCounter * 4 + 20, 100) + "%";
            document.getElementById("adjustRate").innerText = Math.min(simCounter * 6, 90) + "%";
        }

        // expose for button
        window.login = login;
        window.completeKYC = completeKYC;
        window.calculate = calculate;
        window.sendMessage = sendMessage;
        window.simulateQuickKYC = simulateQuickKYC;
        window.sendSuggestion = sendSuggestion;
    </script>
    <!-- extra micro-interactions -->
</body>

</html>